---

configurator:

  fulldirs:
    configs:
      src: files/configs
      dest: /data
    stacks:
      src: files/stacks
      dest: /data

  directories:
    /backup:

    # Grafana data directory
    grafana:
      dir: /data/grafana
      owner: 472
      group: 472

    # Nginx logs
    /data/nginx-logs:

    # Certbot (official EFF ACME client)
    /data/certbot:
    /data/certbot/etc:
    /data/certbot/lib:
    /data/certbot/log:
    # Certbot webroot (shared with nginx or another web-server with SSL termination)
    /data/certbot/webroot:

    # InfluxDB
    /data/influxdb:

    # InfluxDBSYS
    /data/influxdbsys:

  files:
    # rsnapshot
    - file: /etc/rsnapshot.conf
      src: files/configs/rsnapshot/rsnapshot.conf
    - file: /etc/cron.d/rsnapshot
      src: files/configs/rsnapshot/rsnapshot.cron.d

    - file: /etc/postfix/main.cf
      src: files/configs/postfix/main.cf
      notify: restart postfix
